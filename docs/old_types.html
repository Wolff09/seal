<!doctype html>
<html lang="en">
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	
	<!-- Font Awesome CSS -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
	
	<!-- highlight.js -->
	<link rel="stylesheet" href="highlight.default.css">
	<script src="highlight.pack.js"></script>
	<script>hljs.initHighlightingOnLoad();</script>
	
	<title>POPL'20 Project Page</title>

	<style type="text/css">
		header {
			padding: .75rem;
		}
		header .logos a {
			display: inline-block;
		}
		header .logos a:hover {
			opacity: .7;
			transform: scale(1.05, 1.05);
		}

		table.experiments .fas, table.experiments .far {
			width: 1.25em;
		}
		table.experiments .fa-check, .experiments.fa-check {
			color: #33DD33;
		}
		table.experiments .fa-times, .experiments.fa-times {
			color: #DD3333;
		}
		table.experiments .fa-clock, .experiments.fa-clock {
			color: #EACF33;
		}

		kbd {
			text-transform: uppercase;
			/*background-color: #820954;*/
			background-color: #e83e8c;
		}

		.tooltip-inner {
			/*max-width: 400px;*/
			max-width: 25rem;
		}
		/*.tooltip-inner i {
			font-weight: 600;
		}*/
		span.ref-full::before, span.ref-year::before, .ref-item-id::before {
			content: "[";
		}
		span.ref-full::after, span.ref-year::after, .ref-item-id::after {
			content: "]";
		}
		.ref-item {
			margin-top: .35rem;
		}
		.ref-item-id, .ref-item-id::before, .ref-item-id::after {
			font-weight: bold;
		}
		.ref-item-paper {
			font-style: italic;
		}
	</style>
</head>
<body>
	<header>
		<div class="container clearfix">
			<h1 class="display-4 text-muted text-left mt-3 float-left">
				POPL'20 Project Page
			</h1>
			<h1 class="display-4 text-muted text-right mt-3 float-right logos">
				<a target="new" href="https://www.tcs.cs.tu-bs.de/index.html">
					<img src="https://www.tcs.cs.tu-bs.de/images/logo_tcs.png" alt="Institute of Theoretical Computer Science" style="height: .85em; margin-top: -.15em;">
				</a>
			</h1>
		</div>
	</header>

	<div class="container clearfix">
		<!-- ********************************************************************************** -->
		<!-- ************************************** PAPER ************************************* -->
		<!-- ********************************************************************************** -->
		<div class="jumbotron">
			<!-- <img src="artifacts_evaluated_reusable.png" class="ml-4 mr-3" style="max-height: 9rem; float: right;"> -->
			<h1 style="font-size: 2.75rem;">
				Pointer Life Cycle Types for Lock-Free Data Structures with Memory Reclamation
			</h1>
			<h2>
				<small>
					<a target="new" href="https://www.tcs.cs.tu-bs.de/group/meyer/home.html">Roland Meyer</a>
					and
					<a target="new" href="https://www.tcs.cs.tu-bs.de/group/wolff/home.html">Sebastian Wolff</a>,
					TU Braunschweig, Germany
				</small>
			</h2>
			<h3>
				<small>
					Accepted for <a target="new" href="https://popl20.sigplan.org">POPL'20</a>.
				</small>
			</h3>
			<!-- <p class="lead text-justify mb-2">
				<strong>Abstract.</strong>
				We consider the verification of lock-free data structures that manually manage their memory with the help of a safe memory reclamation (SMR) algorithm. Our first contribution is a type system that checks whether a program properly manages its memory. If the type check succeeds, and additionally the program's invariant annotations hold, it is safe to ignore the SMR algorithm and consider the program under garbage collection. Intuitively, our types track the protection of pointers as guaranteed by the SMR algorithm. There are two design decisions. The type system does not track any shape information, which makes it extremely lightweight. Instead, we rely on invariant annotations that postulate a protection by the SMR. To this end, we introduce angels, ghost variables with an angelic semantics. Moreover, the SMR algorithm is not hardcoded but a parameter of the type system definition. We rely on a recent specification language for SMR algorithms. Our second contribution is to automate the type and the invariant check. For the type check, we show a quadratic-time algorithm. For the invariant check, we give a source-to-source translation that links our programs to off-the-shelf verification tools. It compiles away the angelic semantics and allows us to infer appropriate annotations automatically in a guess&check manner. To demonstrate the effectiveness of our type-based verification approach, we check linearizability for various list and set implementations from the literature with both hazard pointers and epoch-based memory reclamation. For many of the examples, this is the first time they are verified automatically. For the ones where there is a competitor, we obtain a speed-up of an order of magnitude.
			</p> -->
			
			<br>
			<div class="text-right mt-3">
				<a href="index.html" class="btn btn-primary text-right">
					<i class="fas fa-link"></i> 
					Main Page
				</a>
				<a target="new" href="resources/popl20-paper265-submitted.pdf" class="btn btn-primary text-right">
					<i class="far fa-file-pdf"></i> 
					Submitted Paper
				</a>
				<a target="new" href="https://github.com/Wolff09/seal/tree/old-types" class="btn btn-primary text-right">
					<i class="fas fa-code"></i>
					Source Code (deprecated types)
				</a>
				<a target="new"  href="https://www.tcs.cs.tu-bs.de/documents/???.ova" class="btn btn-primary text-right">
					<i class="fas fa-hdd"></i>
					Virtual Machine
				</a>
			</div>
		</div>



		<!-- ********************************************************************************** -->
		<!-- ************************************ OLD TYPES *********************************** -->
		<!-- ********************************************************************************** -->

		<!-- Warning -->
		<div class="alert alert-warning container">
			<strong><i class="fas fa-exclamation-circle"></i> Note <i class="fas fa-exclamation-circle"></i></i></strong>
			<p class="mt-2">
				This page describes how to reproduce the original&mdash;now deprecated&mdash;benchmarks from our paper.
				For the overhauled, new implementation, refer to the <a href="index.html">main page</a>.
				The new version is easier to use, more flexible, and outperforms the deprecated implementation.
				The camera ready version of our paper will incorporate the new implementation.
				<br>
				<i class="fas fa-link text-secondary"></i> <a href="index.html" class="text-secondary">See Main Page</a>
			</p>
		</div>
		<br>



		<!-- ********************************************************************************** -->
		<!-- *********************************** QUICKSTART *********************************** -->
		<!-- ********************************************************************************** -->

		<!-- Quick Start -->
		<div class="alert alert-info container">
				<strong><i class="fas fa-shipping-fast"></i> Quick Start <i class="fas fa-shipping-fast"></i></strong>
				<p class="mt-2">
					Note: if you already followed the quick start guide from the <a href="index.html">main page</a>, go directly to step 3 (do not pass "GO", do not collect $200).
				</p>
				<ol class="mt-2 mb-2">
					<li class="mt-1">
						Download the Virtual Machine Snapshot (created with <a target="new" href="https://www.virtualbox.org">Virtual Box</a>, credentials in <code>~/Desktop/pw.txt</code>).
						The artifact is located at <code>~/popl20artifact/previous_version/</code>.
						The folder <code>~/popl20artifact/previous_version/seal/</code> contains an installation of the deprecated version of <kbd>seal</kbd>, the back-end verifier, and all examples.
						<br>
						<i class="fas fa-link text-secondary"></i> <a href="#installation" class="text-secondary">See Compilation and Installation</a>
					</li>
					<li class="mt-1">
						Fire up the Virtual Machine.
					</li>
					<li class="mt-1">
						Open a Shell and simply execute <code>cd ~/popl20artifact/previous_version/seal/ && python3 benchmark.py</code> to run all benchmarks.
						<br>
						<i class="fas fa-link text-secondary"></i> <a href="#benchmarks" class="text-secondary">See Benchmarking</a>
					</li>
					<li class="mt-1">
						Presto!
					</li>
				</ol>
		</div>
		<br>
		

		<!-- ********************************************************************************** -->
		<!-- ********************************** BENCHMARKING ********************************** -->
		<!-- ********************************************************************************** -->
		<div class="mt-4">
			<h1 id="benchmarks">Benchmarking</h1>
			<p>
				We describe how to repeat the benchmarks from the paper for verifying lock-free data structures relative to an SMR specification.
			</p>

			<p>
				The benchmark SMR algorithms and data structures coincide with the ones from the <a href="index.html">main page</a>.
			</p>
			
			<h4>Running Benchmarks</h4>
			<p>
				To run the benchmarks in the Virtual Machine go to the installation folder and execute the benchmark script like so:
			</p>
			<pre class="bg-light"><code class="bash">
      cd ~/popl20artifact/previous_version/seal/
      python3 benchmark.py
			</code></pre>
			<p>
				Make sure to use <code>python3</code>.
				Our test script uses the timeout feature of the <code>subprocess</code> library which is available only in version 3.5 and newer.
			</p>
			<p>
				The <code>benchmark.py</code> script runs every task (type check, annotation check, linearizability check) for every example program with a default timeout of 12 hours.
				You can modify the timeout in seconds by passing an optional argument to <code>benchmark.py</code>:
			</p>
			<pre class="bg-light"><code class="bash">
      python3 benchmark.py &lt;timeout_in_seconds&gt;
			</code></pre>
			<p>
				The benchmark script will output a table with the following columns:
				<ol>
					<li><i>Program: </i>the name of the example program,</li>
					<li><i>Synthesis:</i> time in seconds to automatically synthesis the required types upfront,</li>
					<li><i>Synthesized Types:</i> time in seconds to perform a type check with the automatically synthesized types,</li>
					<li><i>Manual Types:</i> time in seconds to perform a type check with manually specified types,</li>
					<li><i>Annotations:</i> time in seconds to perform an annotation check with our back-end solver CAVE, and</li>
					<li><i>Linearizability:</i> time in seconds to perform a linearizability check with our back-end solver CAVE.</li>
				</ol> 
			</p>
			
			<h4>Expected Benchmarks Results</h4>
			<p>
				We repeat our evaluation.
				We used an Intel i5-8600K@3.6GHz machine with 16GB of RAM running MAC OS 10.12.
				The timeout was set to 12h.
				We mark successful tasks with <i class="experiments fas fa-check"></i>, failed tasks with <i class="experiments fas fa-times"></i>, and timed out tasks with <i class="experiments far fa-clock"></i>.
			</p>
			<p>
				TODO: synthesis info; is the HP-DGLM synth time correct?<br>
				The synthesis for HP/EBR is identical across all benchmarks.
				For HP, it took XXXs on average and produced XXX types.
				For EBR, it took XXXs on average and produced XXX types.
				Compared to that, we manually specified XXX types for HP and XXX for EBR.
			</p>
			<table class="table experiments">
				<thead>
					<tr>
						<th scope="col">Program</th>
						<th scope="col">SMR</th>
						<th class="text-right" scope="col">Synth. Types</th>
						<th class="text-right" scope="col">Man. Types</th>
						<th class="text-right" scope="col">Annotations</th>
						<th class="text-right" scope="col">Linearizability</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<th scope="row" rowspan="2">Treiber's Stack</th>
						<td>EBR</td>
						<td class="text-right">0.16<i class="fas fa-check"></i></td>
						<td class="text-right">0.12s<i class="fas fa-check"></i></td>
						<td class="text-right">10s <i class="fas fa-check"></i></td>
						<td class="text-right">1s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">26s<i class="fas fa-check"></i></td>
						<td class="text-right">1.2s<i class="fas fa-check"></i></td>
						<td class="text-right">12s <i class="fas fa-check"></i></td>
						<td class="text-right">1s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row">Opt. Treiber's Stack</th>
						<td>HP</td>
						<td class="text-right">19s<i class="fas fa-check"></i></td>
						<td class="text-right">0.8s<i class="fas fa-check"></i></td>
						<td class="text-right">11s <i class="fas fa-check"></i></td>
						<td class="text-right">1s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row" rowspan="2">Michael&amp;Scott's Queue</th>
						<td>EBR</td>
						<td class="text-right">0.18s<i class="fas fa-check"></i></td>
						<td class="text-right">0.18s<i class="fas fa-check"></i></td>
						<td class="text-right">16s <i class="fas fa-check"></i></td>
						<td class="text-right">5s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">63s<i class="fas fa-check"></i></td>
						<td class="text-right">2.3s<i class="fas fa-check"></i></td>
						<td class="text-right">12s <i class="fas fa-check"></i></td>
						<td class="text-right">4s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row" rowspan="2">DGLM Queue</th>
						<td>EBR</td>
						<td class="text-right">0.19s<i class="fas fa-check"></i></td>
						<td class="text-right">0.17s<i class="fas fa-check"></i></td>
						<td class="text-right">1s<sup>*</sup> <i class="fas fa-times"></i></td>
						<td class="text-right">6s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">23s<i class="fas fa-check"></i></td>
						<td class="text-right">42.3s<i class="fas fa-check"></i></td>
						<td class="text-right">1s<sup>*</sup> <i class="fas fa-times"></i></td>
						<td class="text-right">5s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row" rowspan="2">Vechev&Yahav's DCAS Set</th>
						<td>EBR</td>
						<td class="text-right">0.25s<i class="fas fa-check"></i></td>
						<td class="text-right">0.23s<i class="fas fa-check"></i></td>
						<td class="text-right">38s <i class="fas fa-check"></i></td>
						<td class="text-right">200s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">230s<i class="fas fa-check"></i></td>
						<td class="text-right">11s<i class="fas fa-check"></i></td>
						<td class="text-right">13s <i class="fas fa-check"></i></td>
						<td class="text-right">98s <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row" rowspan="2">Vechev&Yahav's CAS Set</th>
						<td>EBR</td>
						<td class="text-right">0.23s<i class="fas fa-check"></i></td>
						<td class="text-right">0.21s<i class="fas fa-check"></i></td>
						<td class="text-right">7h <i class="fas fa-check"></i></td>
						<td class="text-right">42m <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">205s<i class="fas fa-check"></i></td>
						<td class="text-right">11s<i class="fas fa-check"></i></td>
						<td class="text-right">3.5h <i class="fas fa-check"></i></td>
						<td class="text-right">42m <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row" rowspan="2">ORVYY Set</th>
						<td>EBR</td>
						<td class="text-right">0.23s<i class="fas fa-check"></i></td>
						<td class="text-right">0.21s<i class="fas fa-check"></i></td>
						<td class="text-right">7h <i class="fas fa-check"></i></td>
						<td class="text-right">47m <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">205s<i class="fas fa-check"></i></td>
						<td class="text-right">11s<i class="fas fa-check"></i></td>
						<td class="text-right">3.2h <i class="fas fa-check"></i></td>
						<td class="text-right">47m <i class="fas fa-check"></i></td>
					</tr>
					<tr>
						<th scope="row" rowspan="2">Michael's Set</th>
						<td>EBR</td>
						<td class="text-right">0.51s<i class="fas fa-check"></i></td>
						<td class="text-right">0.48s<i class="fas fa-check"></i></td>
						<td class="text-right">22s<sup>*</sup> <i class="fas fa-times"></i></td>
						<td class="text-right">t/o <i class="far fa-clock"></i></td>
					</tr>
					<tr>
						<td>HP</td>
						<td class="text-right">479s<i class="fas fa-check"></i></td>
						<td class="text-right">23s<i class="fas fa-check"></i></td>
						<td class="text-right">90s<sup>*</sup> <i class="fas fa-times"></i></td>
						<td class="text-right">t/o <i class="far fa-clock"></i></td>
					</tr>
				</tbody>
			</table>
			<p>
				<sup>*</sup> False-positive due to imprecision in the back-end verifier.
			</p>
			<br>
		</div>

		<br><br><br>
	</div>

	<footer class="footer bg-light p-3">
		<div class="container text-right">
			<small class="text-muted">Made with <a target="new" href="https://getbootstrap.com" class="text-dark">Bootstrap</a> and <a target="new" href="https://html9responsiveboilerstrapjs.com" class="text-dark">H9RBS.js</a>. Hosted by <a target="new" href="https://pages.github.com" class="text-dark">GitHub Pages</a>.</small>
		</div>
	</footer>



	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script> -->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
</body>
</html>
