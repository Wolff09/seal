
struct Node {
	data_t data;
	Node* next;
}

Node* Head;

extern void retire(Node* ptr);
extern void protect1(Node* ptr);
extern void protect2(Node* ptr);

void init() {
	Head = NULL;
}

void bar() {
	atomic {
		choose {
			assert(active(Head));
		}{
			assert(active(Head));
		}
		assume(Head == NULL);
	}
}
